# 快速找排序大log

## 题目描述

假设有一个100w行的log，可能排序（按照时间）/未排序，大小10+G（无法一次性读入内存）

如何快速查询某个时间的log？

```bash
# 顺序查找命令 巨慢
cat log | sout | grep 20200101
```

## 题目分析

改变log的数据结构

- 把log分成很多（比如100）个文件，然后读每个文件第一行（100次IO）
- 把这100个数据存一个文件（其实就是作为索引）
- 然后对这100个文件进行相同的操作
- 这样构建了一个b+树
- 每次要找log的时候 IO次数 log_100(N) 



# 相似问题

## 题目描述

如何从一个不知道大小的数组（很大）中找到一个元素

## 题目分析

首先快速找肯定还是二分法来找

但是这里不知道array的大小，首先第一步是找到大小

可以用膨胀边界

```python
left, right = 0, 1
while target > nums[right]:
    right = right * 2
    
# 这样能找到target所在的区间
```

